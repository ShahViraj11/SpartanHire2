import{r,j as e,c as N}from"./assets/global-CCFh1nQr.js";const y=()=>{const[o,m]=r.useState(null),[h,p]=r.useState([]),[a,x]=r.useState([]),[b,l]=r.useState(!1),[i,f]=r.useState([]),g=async s=>{var c;const t=(c=s.target.files)==null?void 0:c[0];if(!t||t.type!=="application/pdf"){alert("Please upload a valid PDF file.");return}l(!0);const n=new FormData;n.append("resume",t);try{const u=await(await fetch("http://localhost:3000/upload-resume",{method:"POST",body:n})).json();m(u.ats_score),p(u.jobs)}catch(d){console.error("Error:",d),alert("Failed to process resume.")}finally{l(!1)}},j=s=>{x(t=>t.includes(s)?t.filter(n=>n!==s):[...t,s])},w=async()=>{try{const[s]=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(s.id,{action:"findRecruiters"},t=>{t&&t.recruiters?f(t.recruiters):alert("Couldn't find recruiters. Please open LinkedIn.")})}catch(s){console.error("Error finding recruiters:",s)}};return e.jsxs("div",{className:"p-4 text-center bg-green-600 text-white rounded-lg shadow-md",children:[!o&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Welcome Spartan!"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Please upload your resume to open a new world of opportunities"}),e.jsx("input",{type:"file",accept:"application/pdf",onChange:g,className:"mb-4 p-2 border-2 border-white rounded focus:outline-none focus:ring-2 focus:ring-white bg-green-800 text-white"})]}),b&&e.jsx("p",{className:"text-lg",children:"Processing..."}),o!==null&&e.jsxs("div",{className:"bg-green-700 p-4 rounded-lg shadow-md",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-2",children:["ATS Score: ",o,"%"]}),e.jsx("h3",{className:"font-bold mt-4 mb-2",children:"Select Job Opportunities:"}),e.jsx("ul",{className:"list-disc list-inside",children:h.map((s,t)=>e.jsxs("li",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{children:[e.jsx("strong",{children:s.title})," at ",s.company.display_name]}),e.jsx("button",{onClick:()=>j(t),className:`ml-2 p-1 rounded-full border-2 ${a.includes(t)?"bg-white text-green-800 border-white":"bg-green-800 text-white border-white"}`,children:a.includes(t)?"âœ“":"+"})]},t))}),e.jsx("button",{onClick:w,className:"mt-4 p-2 bg-white text-green-800 rounded hover:bg-green-300 focus:outline-none focus:ring-2 focus:ring-white",children:"Find Recruiters"}),i.length>0&&e.jsxs("div",{className:"mt-4 text-left",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Potential Recruiters:"}),e.jsx("ul",{className:"list-disc list-inside",children:i.map((s,t)=>e.jsx("li",{children:e.jsx("a",{href:s.profileLink,target:"_blank",rel:"noopener noreferrer",className:"text-white underline hover:text-green-300",children:s.name})},t))})]})]})]})};N(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx("div",{className:"bg-white w-[600px] h-[500px]",children:e.jsx(y,{})})}));
